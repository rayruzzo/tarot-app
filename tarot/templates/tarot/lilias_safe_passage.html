{% extends 'tarot/base.html' %}

{% block title %}Lilia's Safe Passage Reading{% endblock %}

{% block header %}
<section class="reading-header">
  <h1>Lilia's Safe Passage Reading</h1>
  <div class="question-text">{{ reading.question }}</div>
</section>
{% endblock %}

{% block content %}

<!-- Row 1: Path Behind, Path Ahead -->
<div class="tarot-row">
  <div class="tarot-card-wrapper">
    <h2>Path Behind</h2>
    {% if reading.reversals.2 %}
      <img class="tarot-img reversed" src="{{ MEDIA_URL }}{{ reading.cards.path_behind.img }}">
      <p class="reversed-text">Reversed: {{ reading.cards.path_behind.meaning_rev }}</p>
    {% else %}
      <img class="tarot-img" src="{{ MEDIA_URL }}{{ reading.cards.path_behind.img }}">
      <p class="upright-text">{{ reading.cards.path_behind.meaning_up }}</p>
    {% endif %}
  </div>
  <div class="tarot-card-wrapper">
    <h2>Path Ahead</h2>
    {% if reading.reversals.3 %}
      <img class="tarot-img reversed" src="{{ MEDIA_URL }}{{ reading.cards.path_ahead.img }}">
      <p class="reversed-text">Reversed: {{ reading.cards.path_ahead.meaning_rev }}</p>
    {% else %}
      <img class="tarot-img" src="{{ MEDIA_URL }}{{ reading.cards.path_ahead.img }}">
      <p class="upright-text">{{ reading.cards.path_ahead.meaning_up }}</p>
    {% endif %}
  </div>
</div>

<!-- Row 2: Obstacles, Traveler, Windfall -->
<div class="tarot-row">
  <div class="tarot-card-wrapper">
    <h2>Obstacles</h2>
    {% if reading.reversals.4 %}
      <img class="tarot-img reversed" src="{{ MEDIA_URL }}{{ reading.cards.obstacles.img }}">
      <p class="reversed-text">Reversed: {{ reading.cards.obstacles.meaning_rev }}</p>
    {% else %}
      <img class="tarot-img" src="{{ MEDIA_URL }}{{ reading.cards.obstacles.img }}">
      <p class="upright-text">{{ reading.cards.obstacles.meaning_up }}</p>
    {% endif %}
  </div>
  <div class="tarot-card-wrapper" id="traveler-card">
    <h2>Traveler</h2>
    {% if reading.reversals.0 %}
      <img class="tarot-img reversed" src="{{ MEDIA_URL }}{{ reading.cards.traveler.img }}">
      <p class="reversed-text">Reversed: {{ reading.cards.traveler.meaning_rev }}</p>
    {% else %}
      <img class="tarot-img" src="{{ MEDIA_URL }}{{ reading.cards.traveler.img }}">
      <p class="upright-text">{{ reading.cards.traveler.meaning_up }}</p>
    {% endif %}
  </div>
  <div class="tarot-card-wrapper">
    <h2>Windfall</h2>
    {% if reading.reversals.5 %}
      <img class="tarot-img reversed" src="{{ MEDIA_URL }}{{ reading.cards.windfall.img }}">
      <p class="reversed-text">Reversed: {{ reading.cards.windfall.meaning_rev }}</p>
    {% else %}
      <img class="tarot-img" src="{{ MEDIA_URL }}{{ reading.cards.windfall.img }}">
      <p class="upright-text">{{ reading.cards.windfall.meaning_up }}</p>
    {% endif %}
  </div>
</div>

<!-- Row 2a: Destination (overlay on Traveler) -->
<div class="destination-wrapper">
  <div class="tarot-card-wrapper destination-card">
    <h2>Destination</h2>
    {% if reading.reversals.6 %}
      <img class="tarot-img reversed" src="{{ MEDIA_URL }}{{ reading.cards.destination.img }}">
      <p class="reversed-text">Reversed: {{ reading.cards.destination.meaning_rev }}</p>
    {% else %}
      <img class="tarot-img" src="{{ MEDIA_URL }}{{ reading.cards.destination.img }}">
      <p class="upright-text">{{ reading.cards.destination.meaning_up }}</p>
    {% endif %}
  </div>
</div>


<!-- Row 3: What's Missing -->
<div class="tarot-row" style="margin-top: -180px;">
  <div class="tarot-card-wrapper">
    <h2>What's Missing</h2>
    {% if reading.reversals.1 %}
      <img class="tarot-img reversed" src="{{ MEDIA_URL }}{{ reading.cards.what_is_missing.img }}">
      <p class="reversed-text">Reversed: {{ reading.cards.what_is_missing.meaning_rev }}</p>
    {% else %}
      <img class="tarot-img" src="{{ MEDIA_URL }}{{ reading.cards.what_is_missing.img }}">
      <p class="upright-text">{{ reading.cards.what_is_missing.meaning_up }}</p>
    {% endif %}
  </div>
</div>

<!-- Reading Summary -->

{% endblock %}
